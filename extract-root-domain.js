function extractRootDomain(url) {
	var arrTopLevel = [".com.al",".com.dz",".co.ao",".com.ai",".com.ag",".com.ar",".com.aw",".net.au",".com.au",".co.at",".com.az",".com.bs",".com.bh",".com.bd",".com.bt",".co.bw",".br.com",".com.br",".net.br",".com.bn",".org.bn",".net.bn",".com.kh",".com.cm",".co.cm",".net.cm",".cn.com",".com.cn",".net.cn",".org.cn",".com.co",".co.ck",".co.cr",".com.hr",".com.cy",".web.do",".com.ec",".com.eg",".com.sv",".co.ee",".com.et",".eu.com",".co.fk",".com.fj",".co.com",".com.ge",".de.com",".com.de",".com.gh",".com.gi",".gr.com",".com.gr",".com.gl",".com.gu",".net.gt",".com.gt",".com.gn",".com.hk",".net.hk",".co.hu",".co.in",".co.id",".co.ir",".org.il",".co.il",".net.il",".co.it",".com.jm",".co.jp",".com.jo",".co.ke",".com.ki",".com.kw",".com.lv",".org.lv",".com.lb",".co.ls",".com.lr",".com.ly",".com.mo",".com.mk",".com.mg",".com.my",".com.mt",".com.mx",".net.mx",".co.mz",".com.na",".com.np",".co.nl",".com.an",".org.nz",".co.nz",".net.nz",".com.ni",".com.ng",".co.no",".com.om",".com.pk",".com.pa",".com.py",".com.pe",".org.ph",".com.ph",".net.ph",".biz.pl",".com.pl",".org.pl",".com.pt",".com.pr",".com.qa",".com.ro",".com.sn",".co.rs",".com.sg",".za.com",".co.za",".co.kr",".org.es",".com.es",".nom.es",".com.se",".com.sy",".com.tw",".co.tz",".co.th",".co.tt",".com.tn",".com.tr",".co.ug",".com.ua",".uk.com",".uk.net",".co.uk",".org.uk",".net.uk",".us.org",".us.com",".com.uy",".com.vu",".com.ve",".com.vn",".co.zm",".com.zm",".co.zw",".ax",".abogado",".academy",".accountant",".accountants",".actor",".adult",".xxx",".af",".africa",".agency",".airforce",".al",".dz",".as",".ad",".ai",".aq",".ag",".apartments",".app",".archi",".am",".army",".aw",".ac",".asia",".associates",".attorney",".auction",".audio",".melbourne",".sydney",".tirol",".wien",".at",".aero",".az",".baby",".bs",".band",".bank",".bar",".bb",".bargains",".eus",".beer",".by",".brussels",".vlaanderen",".be",".bz",".bj",".berlin",".bm",".best",".bet",".bible",".bid",".bayern",".bike",".motorcycles",".cam",".bingo",".bio",".black",".blackfriday",".blog",".blue",".boats",".bo",".book",".booking",".ba",".boston",".boutique",".rio",".io",".broker",".budapest",".build",".builders",".bg",".bi",".business",".biz",".buzz",".cab",".cafe",".camera",".cm",".camp",".quebec",".ca",".capetown",".cv",".capital",".car",".auto",".cars",".cards",".care",".career",".careers",".casa",".cash",".casino",".barcelona",".cat",".catering",".ky",".center",".cf",".ceo",".chat",".cheap",".cl",".集团",".在线",".中文网",".世界",".移动",".机构",".公司",".网络",".我爱你",".商标",".网店",".八卦",".佛山",".广东",".信息",".中国",".cn",".christmas",".cx",".church",".city",".claims",".cleaning",".click",".clinic",".clothing",".cloud",".club",".coach",".cc",".codes",".coffee",".college",".com",".community",".company",".computer",".condos",".cd",".construction",".consulting",".contractors",".cooking",".cool",".coop",".cr",".country",".coupons",".courses",".credit",".creditcard",".cricket",".hr",".cruises",".cu",".cw",".cz",".dance",".date",".dating",".deals",".degree",".delivery",".democrat",".dk",".dental",".forex",".dentist",".desi",".design",".diamonds",".diet",".digital",".direct",".directory",".discount",".dj",".doctor",".dog",".domains",".dm",".do",".download",".dubai",".durban",".earth",".eco",".ec",".education",".edu",".eg",".sv",".email",".energy",".engineer",".engineering",".enterprises",".gq",".equipment",".estate",".ee",".eu",".events",".exchange",".expert",".exposed",".express",".fail",".faith",".family",".fans",".farm",".fo",".fashion",".feedback",".film",".finance",".financial",".fi",".fish",".fishing",".fit",".fitness",".flights",".florist",".flowers",".fly",".food",".football",".forsale",".forum",".foundation",".corsica",".bzh",".sarl",".alsace",".fr",".free",".gf",".tf",".fund",".furniture",".futbol",".fyi",".ga",".gal",".gallery",".gm",".game",".游戏",".games",".garden",".gay",".co",".gent",".ge",".გე",".reise",".koeln",".kaufen",".jetzt",".immobilien",".cologne",".hamburg",".haus",".reisen",".versicherung",".nrw",".de",".gift",".gifts",".gives",".glass",".global",".gmbh",".gold",".golf",".graphics",".gratis",".gr",".green",".gl",".gd",".gripe",".group",".gp",".gt",".gg",".guide",".gw",".guitars",".guru",".gy",".ht",".healthcare",".help",".helsinki",".hiphop",".hiv",".hockey",".holdings",".holiday",".home",".homes",".hn",".hk",".香港",".horse",".hospital",".host",".hosting",".hotel",".hotels",".house",".how",".hu",".is",".immo",".inc",".संगठन",".in",".id",".industries",".info",".ink",".institute",".insurance",".insure",".international",".investments",".ir",".iq",".irish",".ie",".islam",".im",".it",".ci",".みんな",".nagoya",".yokohama",".okinawa",".ryukyu",".osaka",".コム",".kyoto",".jp",".je",".jewelry",".jobs",".joburg",".jo",".juegos",".ҚАЗ",".kz",".kim",".kitchen",".kiwi",".krd",".kg",".land",".lat",".lv",".law",".lawyer",".lease",".legal",".lgbt",".ly",".li",".life",".lighting",".limited",".limo",".link",".lt",".live",".loan",".loans",".lol",".london",".la",".lotto",".love",".ltda",".lu",".mk",".mg",".maison",".mw",".my",".mv",".ml",".management",".market",".marketing",".markets",".mq",".mu",".yt",".mba",".media",".medical",".meet",".memorial",".men",".menu",".mx",".miami",".fm",".mobi",".moda",".moe",".moi",".md",".mom",".mc",".money",".mn",".me",".ms",".المغرب",".ma",".mortgage",".moscow",".москва",".movie",".music",".name",".nr",".navy",".net",".amsterdam",".frl",".nl",".network",".new",".nz",".news",".ong",".ngo",".ni",".ng",".ninja",".nu",".mp",".no",".now",".om",".one",".onl",".online",".ooo",".organic",".org",".pk",".ps",".pa",".paris",".partners",".parts",".party",".pay",".pe",".pet",".pharmacy",".ph",".photo",".photography",".photos",".physio",".pics",".pictures",".pink",".pn",".pizza",".place",".plumbing",".plus",".poker",".pl",".porn",".pt",".press",".productions",".pro",".pw",".promo",".properties",".property",".protection",".pub",".pr",".qa",".qpon",".racing",".radio",".recipes",".red",".rehab",".reit",".ren",".rent",".rentals",".repair",".report",".cg",".republican",".rest",".restaurant",".re",".review",".reviews",".rip",".rocks",".rodeo",".ro",".rugby",".ruhr",".run",".онлайн",".сайт",".орг",".tatar",".РУС",".ru",".рф",".rw",".saarland",".sh",".kn",".lc",".pm",".vc",".sale",".salon",".ws",".sm",".st",".sa",".school",".schule",".science",".scot",".secure",".security",".sn",".срб",".rs",".services",".sex",".sexy",".sc",".shiksha",".shoes",".shop",".商店",".shopping",".show",".sl",".sg",".singles",".sx",".site",".ski",".sk",".si",".soccer",".social",".software",".solar",".solutions",".so",".gs",".닷넷",".닷컴",".kr",".space",".soy",".es",".sport",".lk",".srl",".stockholm",".storage",".store",".stream",".studio",".study",".style",".sd",".supplies",".supply",".support",".surf",".surgery",".sr",".se",".swiss",".ch",".sy",".systems",".taipei",".tw",".tj",".tattoo",".tax",".taxi",".td",".team",".tech",".technology",".tel",".tv",".tennis",".thai",".theater",".theatre",".tickets",".tienda",".tl",".tips",".tires",".today",".tg",".tk",".tokyo",".to",".tools",".top",".tours",".town",".toys",".trade",".trading",".training",".travel",".tt",".tube",".tn",".istanbul",".ist",".tm",".tc",".ug",".ua",".ae",".emarat",".uk",".nyc",".vegas",".us",".university",".uno",".uy",".uz",".vacations",".vu",".ventures",".vet",".viajes",".video",".vn",".villas",".vip",".vg",".vision",".vodka",".vote",".voting",".voto",".voyage",".wales",".cymru",".wf",".wang",".watch",".شبكة",".webcam",".website",".موقع",".网址",".转发",".wed",".wedding",".whoswho",".wiki",".win",".wine",".vin",".work",".works",".world",".wtf",".xyz",".yachts",".yoga",".zone"];

	var a = document.createElement('a');
	a.href = url;
	var fullDomain = a.hostname.toLowerCase();
	fullDomain = (fullDomain.substring(0, 4) === "www.") ? fullDomain.substring(4) : fullDomain;
	var topLevel = "";

	for (var i = 0; i < arrTopLevel.length; i++) {
		if (fullDomain.substring(fullDomain.length - arrTopLevel[i].length) === arrTopLevel[i]) {
			topLevel = arrTopLevel[i];
			break;
		}
	}

	if (topLevel !== "") {
		fullDomain = fullDomain.replace(topLevel, "");
		var arrDomainParts = fullDomain.split(".");
		fullDomain = arrDomainParts[arrDomainParts.length - 1] + topLevel;
	}

	return fullDomain;
}
